import{p as l}from"./pocketbase.DxbRfAQo.js";import{u as c}from"./imgbb.Dz0VKEpx.js";import"./pocketbase.es.B4ZgO_7c.js";const m=document.getElementById("createForm"),r=document.getElementById("fileInput"),i=document.getElementById("imageUrl"),s=document.getElementById("previewImage"),d=document.getElementById("fileName"),t=document.getElementById("uploadStatus");r?.addEventListener("change",async()=>{const n=r.files?.[0];if(n){d.textContent=n.name,t.textContent="Yükleniyor...",t.className="text-xs text-blue-500 mt-1 font-medium";try{const e=await c(n);i.value=e,s.src=e,s.classList.remove("hidden"),t.textContent="Resim başarıyla yüklendi.",t.className="text-xs text-green-600 mt-1 font-medium"}catch(e){console.error(e),t.textContent="Hata: "+e.message,t.className="text-xs text-red-500 mt-1 font-medium",i.value=""}}});m?.addEventListener("submit",async n=>{n.preventDefault();const e=new FormData(m),a=Object.fromEntries(e);if(!a.image){alert("Lütfen bir resim yükleyiniz.");return}try{await l.collection("specializations").create(a),window.location.href="/admin/specializations"}catch(o){console.error(o),alert("Hata oluştu: "+(o.message||"Bilinmeyen hata"))}});
