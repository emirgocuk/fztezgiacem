import{p as o}from"./pocketbase.DxbRfAQo.js";import"./pocketbase.es.B4ZgO_7c.js";const a=document.getElementById("devModeToggle"),s=localStorage.getItem("devMode")==="true";a&&(a.checked=s);a?.addEventListener("change",e=>{const i=e.target.checked;localStorage.setItem("devMode",i.toString()),alert(i?"Geliştirici modu AÇIK. Editörde test butonu görünecek.":"Geliştirici modu KAPALI.")});const c=document.getElementById("contactEmail"),r=document.getElementById("saveEmailBtn"),t=document.getElementById("emailStatus");let n="";async function l(){try{const e=await o.collection("site_settings").getList(1,1);if(e.items.length>0){const i=e.items[0];n=i.id,c&&(c.value=i.contact_email||"")}}catch(e){console.error("Error loading settings:",e)}}l();r?.addEventListener("click",async()=>{const e=c?.value;if(e){t&&(t.textContent="Kaydediliyor...",t.className="mt-2 text-sm text-gray-500");try{n?await o.collection("site_settings").update(n,{contact_email:e}):n=(await o.collection("site_settings").create({contact_email:e})).id,t&&(t.textContent="Başarıyla kaydedildi.",t.className="mt-2 text-sm text-green-600 font-medium",setTimeout(()=>{t&&(t.textContent="")},3e3))}catch(i){console.error("Error saving settings:",i),t&&(t.textContent="Hata: "+i.message,t.className="mt-2 text-sm text-red-600")}}});
