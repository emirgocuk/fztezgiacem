import{p as g}from"./pocketbase.DxbRfAQo.js";import{u as v}from"./imgbb.Dz0VKEpx.js";import"./pocketbase.es.B4ZgO_7c.js";const y={Ã§:"c",ÄŸ:"g",ÅŸ:"s",Ã¼:"u",Ã¶:"o",Ä±:"i",Ã‡:"c",Ä:"g",Å:"s",Ãœ:"u",Ã–:"o",Ä°:"i"};document.querySelector('input[name="title"]')?.addEventListener("input",i=>{let t=i.target.value.split("").map(e=>y[e]||e).join("").toLowerCase();t=t.replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-");const o=document.querySelector('input[name="slug"]');o&&(o.value=t)});const d=document.getElementById("postForm");d?.addEventListener("submit",async i=>{i.preventDefault();const n=document.getElementById("contentHidden");if(!n||!n.value.trim()||n.value==="<p></p>"){alert("LÃ¼tfen iÃ§erik alanÄ±nÄ± doldurun.");return}const t=document.getElementById("submitBtn"),o=t.innerText;try{t.disabled=!0,t.innerText="YÃ¼kleniyor...";const e=new FormData(d),a=e.get("cropped_image");let l="";if(a&&a.startsWith("data:image")){t.innerText="GÃ¶rsel YÃ¼kleniyor...";const c=await(await fetch(a)).blob(),p=new File([c],"cover_image.jpg",{type:"image/jpeg"});l=await v(p)}let r=e.get("published_date"),s="";if(r){const u=new Date(r);isNaN(u.getTime())||(s=u.toISOString())}const m={title:e.get("title"),slug:e.get("slug"),category:e.get("category"),summary:e.get("summary"),published_date:s||null,content:n.value,image:l};console.log("ğŸ“¤ Sending Data to PB (JSON):",JSON.stringify(m,null,2)),await g.collection("posts").create(m),alert("YazÄ± baÅŸarÄ±yla oluÅŸturuldu!"),window.location.href="/admin"}catch(e){console.error(e);let a=e.message;e.response?.data&&(a+=`
`+Object.entries(e.response.data).map(([l,r])=>`â€¢ ${l}: ${r.message}`).join(`
`)),alert(`Hata OluÅŸtu:
`+a)}finally{t.disabled=!1,t.innerText=o}});const f=localStorage.getItem("devMode")==="true";f&&(document.getElementById("devTools")?.classList.remove("hidden"),document.getElementById("devTools")?.classList.add("flex"));document.getElementById("fillTestDataBtn")?.addEventListener("click",()=>{const i=["Bel AÄŸrÄ±sÄ± Ä°Ã§in 5 Etkili Egzersiz","Masa BaÅŸÄ± Ã‡alÄ±ÅŸanlar Ä°Ã§in DuruÅŸ Ã–nerileri","Skolyoz Tedavisinde Yeni YaklaÅŸÄ±mlar","Spor YaralanmalarÄ±ndan Korunma YollarÄ±","Manuel Terapi Nedir? Kimlere UygulanÄ±r?","Boyun DÃ¼zleÅŸmesi ve Tedavisi","Hamilelikte Bel AÄŸrÄ±sÄ± ile BaÅŸa Ã‡Ä±kma"],n=["Genel","Manuel Terapi","DEHB","Egzersiz"],t=i[Math.floor(Math.random()*i.length)],o=n[Math.floor(Math.random()*n.length)],e=`
            <h2>GiriÅŸ</h2>
            <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</p>
            <h3>Neden Ã–nemli?</h3>
            <p>Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
            <ul>
                <li>Ã–nemli nokta 1</li>
                <li>Ã–nemli nokta 2</li>
                <li>Ã–nemli nokta 3</li>
            </ul>
            <blockquote>"SaÄŸlÄ±k en bÃ¼yÃ¼k hazinedir." - Anonim</blockquote>
            <p>SonuÃ§ olarak, dÃ¼zenli egzersiz ve doÄŸru duruÅŸ hayat kalitesini artÄ±rÄ±r.</p>
        `;document.querySelector('input[name="title"]').value=t,document.querySelector('select[name="category"]').value=o,document.querySelector('textarea[name="summary"]').value="Bu otomatik oluÅŸturulmuÅŸ bir test Ã¶zetidir. Lorem ipsum dolor sit amet.",document.querySelector('input[name="published_date"]').value=new Date().toISOString().split("T")[0];const a=document.querySelector('input[name="slug"]');document.querySelector('input[name="title"]')?.dispatchEvent(new Event("input")),setTimeout(()=>{a&&(a.value=a.value+"-"+Date.now().toString().slice(-4))},100),window.dispatchEvent(new CustomEvent("set-tiptap-content",{detail:e}))});
